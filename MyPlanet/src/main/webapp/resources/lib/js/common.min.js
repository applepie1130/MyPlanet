/*! Common v0.0.1 | (c) 2014, 2015, 2016 SungJun All rights reserved */
"use strict";var $J=$.noConflict();var SpinnerController=(function(){function init(){this.opts={lines:11,length:0,width:5,radius:15,corners:1,rotate:0,direction:1,color:'#000',speed:1.0,trail:42,shadow:false,hwaccel:false,className:'spinner',zIndex:2e9,top:'auto',left:'auto'};this.spinner=new Spinner(this.opts).spin()}function start(){$J("#load-spinner").hide().append(this.spinner.el).fadeIn()};function stop(){$J("#load-spinner").delay(100).fadeOut(function(){$J(this).empty()})}return{"init":init,"start":start,"stop":stop}}());SpinnerController.init();var StringUtils=function(){};StringUtils.uuid=function(){try{var s=[];var a="0123456789abcdef";for(var i=0;i<36;i++){s[i]=a.substr(Math.floor(Math.random()*0x10),1)}s[14]="4";s[19]=a.substr((s[19]&0x3)|0x8,1);s[8]=s[13]=s[18]=s[23]="-";return s.join("")}catch(e){console.log(e)}};StringUtils.isEmpty=function(a){try{return $J.isEmptyObject(a)}catch(e){console.log(e)}};var Controller=(function(){function init(){this.async=true;this.method="POST";this.dataType="JSON";this.contentType="";this.requestId=StringUtils.uuid();this.url="";this.data="";this.processData=true;this.mimeType=""};function setAction(a,b,c){this.url=a;if(typeof b!=="undefined"&&b.toUpperCase()==="GET"){this.method="GET"}else{this.method="POST"}if(typeof c!=="undefined"&&c.toUpperCase()==="JSONP"){this.dataType="JSONP"}else{this.dataType="JSON"}if(typeof spinner!=="undefined"&&spinner===false){$J(document).ajaxStart(function(){});$J(document).ajaxStop(function(){})}};function setParams(a,b){if(typeof b!=="undefined"&&b.toUpperCase()==="JSON"){this.contentType="application/json; charset=UTF-8";this.data=JSON.stringify(a);this.dataType="JSON";this.processData=true;this.mimeType=""}else if(typeof b!=="undefined"&&b.toUpperCase()==="HTML"){this.contentType="application/x-www-form-urlencoded; charset=UTF-8";this.data=a;this.dataType=b.toUpperCase();this.processData=true;this.mimeType=""}else if(typeof b!=="undefined"&&b.toUpperCase()==="FILE"){this.contentType=false;this.data=a;this.dataType="JSON";this.processData=false;this.mimeType="multipart/form-data"}else{this.contentType="application/x-www-form-urlencoded; charset=UTF-8";this.data=a;this.dataType="JSON";this.processData=true;this.mimeType=""}};function submit(f,g){$J.ajax({url:this.url,type:this.method,dataType:this.dataType,contentType:this.contentType,processData:this.processData,data:this.data,async:this.async,headers:{requestId:this.requestId},success:function(a,b,c){var d=a;try{f(d,b,c);if(typeof g!=="undefined"){g(d,b,c)}$J(document).ajaxStart(function(){SpinnerController.start()});$J(document).ajaxStop(function(){SpinnerController.stop()})}catch(e){console.log("e:",e)}},error:function(a,b,c){try{var d;if(a.responseText.indexOf("<html>")<0){d=decodeURIComponent(a.responseText)}else{d="오류가 발생했습니다.<br/>잠시 후 다시 시도해주세요."}jQuery("#alertModalLabel").text("ERROR");jQuery("#alertModalBody").html(d);jQuery("#alertModal").modal()}catch(e){console.log("e:",e)}}})};return{"init":init,"setAction":setAction,"setParams":setParams,"submit":submit}}());Controller.init();var PageReplaceForm=(function(){function setAction(a){Controller.setAction(a)};function setParams(a){Controller.setParams(a,"html")};function submit(a){Controller.submit(a)};return{"setAction":setAction,"setParams":setParams,"submit":submit}}());var PopupContoller=(function(){function setAction(a){Controller.setAction(a)};function setParams(a){Controller.setParams(a,"html")};function submit(b){Controller.submit(function(a){jQuery("#commonModalLabel").text("Restful to Json Data");jQuery("#commonModalBody").empty();jQuery("#commonModalBody").append(a);jQuery("#commonModal").modal()},b)};return{"setAction":setAction,"setParams":setParams,"submit":submit}}());var FileUploader=(function(){function submit(d){return{url:d,dataType:'json',add:function(e,a){var b=a.files[0];var c=true;if(!(/png|jpe?g|gif/i).test(b.name)){jQuery("#alertModalLabel").text("WARNNING");jQuery("#alertModalBody").text("png, jpg, gif 만 가능합니다.");jQuery("#alertModal").modal();c=false}else if(b.size>5000000){jQuery("#alertModalLabel").text("WARNNING");jQuery("#alertModalBody").text("파일 용량은 5MB를 초과할 수 없습니다.");jQuery("#alertModal").modal();c=false}if(c){a.submit()}},done:function(e,a){console.log(a.result.fileName);console.log(a.result.fileSize);console.log(a.result.fileType)},fail:function(e,a){sCallbackMsgs="오류가 발생했습니다.<br/>잠시 후 다시 시도해주세요.";jQuery("#alertModalLabel").text("ERROR");jQuery("#alertModalBody").html(sCallbackMsgs);jQuery("#alertModal").modal()}}}return{"submit":submit}}());